<!DOCTYPE html>
<html lang="el" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head('PetCare | SMS Monitor', '/css/pages/monitor.css', '/js/monitor.js')}"></head>

<body class="pc-page pc-monitor">

<!-- PetCare logo πάνω αριστερά -->
<div class="pc-monitor__logo">
    <img th:src="@{/css/assets/brand/petcare_logo.svg}" alt="PetCare logo">
</div>

<main class="pc-monitor__main">
    <section class="pc-monitor__wrapper">

        <header class="pc-monitor__header">
            <div>
                <h1 class="pc-monitor__title">Notification Service Monitor</h1>

                <p class="pc-monitor__meta">
                    <span>Base URL:</span>
                    <span id="baseUrl" class="pc-mono"></span>

                    <span class="pc-monitor__dot">•</span>

                    <span>Last updated:</span>
                    <span id="lastUpdated" class="pc-mono">—</span>

                    <span class="pc-monitor__dot">•</span>

                    <span>Events:</span>
                    <span id="countBadge" class="pc-pill">0</span>
                </p>
            </div>

            <div class="pc-monitor__actions">
                <button id="btnRefresh" type="button" class="pc-btn pc-btn--secondary">Refresh</button>
                <button id="btnClear" type="button" class="pc-btn pc-btn--primary">Clear</button>
            </div>
        </header>

        <p id="errorBox" class="pc-status pc-status--error pc-hidden">
            Δεν μπορώ να διαβάσω το monitor API. Είναι σε λειτουργία το service;
        </p>

        <div class="pc-monitor__card">

            <div class="pc-monitor__table-wrap">
                <table class="pc-monitor__table" aria-label="SMS events table">
                    <thead>
                    <tr>
                        <th style="width: 190px;">At</th>
                        <th style="width: 200px;">To (E.164)</th>
                        <th>Content</th>
                        <th style="width: 140px;">Status</th>
                    </tr>
                    </thead>

                    <tbody id="eventsBody">
                    <tr>
                        <td colspan="4" class="pc-monitor__empty">
                            Waiting for events…
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <!-- Bunny δίπλα στο card -->
            <img class="pc-monitor__bunny"
                 th:src="@{/css/assets/illustrations/bunny_pop.svg}"
                 alt=""
                 aria-hidden="true">
        </div>

        <footer class="pc-monitor__footer">
            <div class="pc-monitor__json">
                JSON feed: <span class="pc-mono">GET /api/v1/monitor/sms-events</span>
            </div>
        </footer>

    </section>
</main>

</body>
</html>
